#!/bin/sh

# IMPORTANT: this script doesn't sanity check your input

# 910253 is the "ID" of the notification, and is from:
# sha256sum < volctl | tr -d [:alpha:] | head -c6

if [ "$*" = "toggle" ]; then
    dunstify -a "volctl" -r 910253 "Volume: $(amixer set Master "$@" | tail -n1 | cut -d' ' -f8)"
else
    volume="$(amixer set Master "$@" unmute | tail -n1 | cut -d' ' -f6 | sed 's/[^0-9]*//g')"
    dunstify -a "volctl" -r 910253 -h int:value:"$volume" "Volume: ${volume}%"
    unset volume
fi
