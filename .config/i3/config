# i3 config file (v4)
# Please see http://i3wm.org/docs/userguide.html for a complete reference!

# display no title bar or borders, I used to run the commented out line:
#new_window normal 0px
new_window pixel 0
workspace_layout tabbed

set $mod Mod4

# fix vsync with nouveau. sadly this needs firmware-misc-nonfree :(
#exec --no-startup-id "compton --backend xr_glx_hybrid --vsync drm"

# Font for window titles. Will also be used by the bar unless a different font
# is used in the bar {} block below.
font pango:Liberation Mono 11

# Use Mouse+$mod to drag floating windows to their wanted position
floating_modifier $mod

# we used to use uxterm for the UTF-8 support, and pass -uc for an
# underline curser, however the UTF-8 support was found to be quite
# lacking. gnome-terminal, on the other hand, has full UTF-8 support
# and emoji!
bindsym $mod+Return exec "sst"

# kill focused window
bindsym $mod+Shift+q kill

# start dmenu (a program launcher)
bindsym $mod+d exec "dmenu_run -fn 'Liberation Mono'"

# you will notice that I don't use jkli or jkl; for my movment keys, I
# love arrow keys and I need more sortcuts for non i3wm stuff.

# alternatively, you can use the cursor keys:
bindsym $mod+Left focus left
bindsym $mod+Down focus down
bindsym $mod+Up focus up
bindsym $mod+Right focus right

# alternatively, you can use the cursor keys:
bindsym $mod+Shift+Left move left
bindsym $mod+Shift+Down move down
bindsym $mod+Shift+Up move up
bindsym $mod+Shift+Right move right

# the next section historically had keys for spliting virtical and
# horizontal, fullscreen mode and other container control. It's all
# gone because 1. I don't use it and 2. I need more keys for non i3wm
# stuff.

# I've kept this because sometimes a program needs to be forced into
# either tiling or floating.
bindsym $mod+Shift+space floating toggle

# switch to workspace
bindsym $mod+1 workspace 1
bindsym $mod+2 workspace 2
bindsym $mod+3 workspace 3
bindsym $mod+4 workspace 4
bindsym $mod+5 workspace 5
bindsym $mod+6 workspace 6
bindsym $mod+7 workspace 7
bindsym $mod+8 workspace 8
bindsym $mod+9 workspace 9
bindsym $mod+0 workspace 10

# move focused container to workspace
bindsym $mod+Shift+1 move container to workspace 1
bindsym $mod+Shift+2 move container to workspace 2
bindsym $mod+Shift+3 move container to workspace 3
bindsym $mod+Shift+4 move container to workspace 4
bindsym $mod+Shift+5 move container to workspace 5
bindsym $mod+Shift+6 move container to workspace 6
bindsym $mod+Shift+7 move container to workspace 7
bindsym $mod+Shift+8 move container to workspace 8
bindsym $mod+Shift+9 move container to workspace 9
bindsym $mod+Shift+0 move container to workspace 10

# reload the configuration file FIXME: is there ever I time I've needed this instead of $mod+Shift+r ??
bindsym $mod+Shift+c reload
# restart i3 inplace (preserves your layout/session, can be used to upgrade i3)
bindsym $mod+Shift+r restart
# exit i3 (logs you out of your X session)
bindsym $mod+Shift+e exec "i3-nagbar -t warning -m 'You pressed the exit shortcut. Do you really want to exit i3? This will end your X session.' -b 'Yes, exit i3' 'i3-msg exit'"

# resize window (you can also use the mouse for that)
mode "resize" {
        # These bindings trigger as soon as you enter the resize mode
        bindsym Left resize shrink width 10 px or 10 ppt
        bindsym Down resize grow height 10 px or 10 ppt
        bindsym Up resize shrink height 10 px or 10 ppt
        bindsym Right resize grow width 10 px or 10 ppt

        # back to normal: Enter or Escape
        bindsym Return mode "default"
        bindsym Escape mode "default"
}

bindsym $mod+r mode "resize"

# Start i3bar to display a workspace bar (plus the system information i3status
# finds out, if available)
bar {
        separator_symbol "|"
        mode hide
        hidden_state hide
        modifier Mod1
        status_command i3status
}

# Lock the screen
bindsym $mod+Mod1+l exec "~/.bin/locker"

# adjust screen brightness
bindsym XF86MonBrightnessDown exec --no-startup-id "brightnessctl set 5%-"
bindsym XF86MonBrightnessUp exec --no-startup-id "brightnessctl set +5%"

# pulseaudio systems:
bindsym XF86AudioRaiseVolume exec --no-startup-id "pactl set-sink-mute alsa_output.pci-0000_00_1b.0.analog-stereo 0; pactl set-sink-volume alsa_output.pci-0000_00_1b.0.analog-stereo +2% "
bindsym XF86AudioLowerVolume exec --no-startup-id "pactl set-sink-mute alsa_output.pci-0000_00_1b.0.analog-stereo 0; pactl set-sink-volume alsa_output.pci-0000_00_1b.0.analog-stereo -2% "
bindsym XF86AudioMute exec --no-startup-id "pactl set-sink-mute alsa_output.pci-0000_00_1b.0.analog-stereo toggle"

# control cmus
bindsym XF86AudioPlay exec --no-startup-id "cmus-remote --pause"
bindsym XF86AudioNext exec --no-startup-id "cmus-remote --next"
bindsym XF86AudioPrev exec --no-startup-id "cmus-remote --prev"

# starting ibus is here to make sure it is the last thing started due
# to issues with firefox and other things (why??) ðŸ˜•

exec --no-startup-id "ibus-daemon -drx"
